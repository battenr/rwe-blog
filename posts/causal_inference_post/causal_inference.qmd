---
title: "Intro to Causal Inference"
author: "Ryan Batten"
date: "2022-07-30"
categories: [Causal Inference, DAG]
image: "cause-and-effect.jpeg"
bibliography: causal_inference_references.bib
draft: true
---

## Background

I was first introduced to causal inference by @RN509, in the summer of 2021 prior to starting my PhD. This book was tremendous and changed my thinking about "correlation doesn't equal causation".\
\
From introductory science, as scientists, we are taught that correlation doesn't equal causation. I had never questioned this until I was in my MSc program and started thinking about the association between lung cancer and smokers. @RN816 reported an odds ratio of 40.4 (95% CI: 21.8-79.6), which to me seemed high.

Now there are two ways to interpret this. On one hand, if we were a tobacco company we could argue that the 95% CI is pretty wide, indicating that the estimate is not that precise and the statistical method used must be wrong, etc (by etc, I mean whatever excuses you want to use). On the other hand, even at the lower limit an odds ratio of 21.8 is pretty damn high. In my opinion, this would require at the very least more investigation to determine "does smoking cause lung cancer?"

## Common Ground

Prior to diving straight into the world of causal inference, we first need to set some common ground rules. Think of these rules as common terminology so we can all get on the same page.

::: callout-note
Keep in mind causal inference is a broad field and will be the subject of many subsequent posts, this is just an introductory post or wetting your beak if you will.
:::

### Confound It!

In order to get to the bottom of "does X cause Y?" we need to outlined some key methodological concepts. First, we need to outline what confounding is and clearly define what we mean.

Different disciplines used different terminology, however confounding in clinical epidemiology refers to a variable that impacts both the exposure (i.e., smoking) and outcome (i.e., lung cancer). A useful way to visualize this is using directed acyclic graphs (DAGs). I'll defer to @RN509 for more detail about DAGs. However, the below illustrates what confounding is.

```{r, echo = FALSE, warning = FALSE, message = FALSE}

library(ggdag)
library(tidyverse)

ggdag::dagify(
  coffee ~ lung_cancer,
  lung_cancer ~ smokers, 
  smokers ~ coffee,
  lung_cancer ~ coffee,
  exposure = "smokers", 
  outcome = "lung_cancer"
) %>% 
  ggdag::ggdag(layout = "circle") +
  theme_minimal() +
  theme(
    text = element_text(size = 25),
    axis.text = element_blank(),
    axis.title = element_blank(),
    panel.grid.major = element_blank(),
    panel.grid.minor = element_blank()
  )

```

### Randomized Controlled Trials (RCTs)

Randomized controlled trials are considered the gold standard in research, and rightfully so. However, sometimes people forget why they are considered the gold standard. There are of course numerous reasons but I will touch on a few here

Firstly, an RCT is randomized meaning that patient's are `randomly` assigned to one of the treatment arms. For example, if you were picking players for a baseball team and wanted to people to two teams, team A & team B how would you do it? Based on the color shirt they are wearing, hair color, eye color? None of those methods would be random.

The key for `randomly`

### Observational Data

Observational data in research often gets a bad wrap. The gold standard is randomized controlled trials (RCTs), however often times people forget why this is. RCTs provide

## Assumptions Required for Causal Inference

There are three key assumptions required for causal inference: exchangeability,

```{r}
1 + 1
```

## Assumptions Required

# Assumptions for Causal Inference
